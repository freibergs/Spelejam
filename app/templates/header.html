<header class="bg-dark text-white p-3">
    <div class="container d-flex justify-content-between align-items-center">
        <h1><a href="{{ url_for('main.index') }}" class="text-white text-decoration-none">My Store</a></h1>
        <nav class="d-flex align-items-center">
            <div class="me-3">
                {% if total_quantity > 0 %}
                    <a href="{{ url_for('cart.view_cart') }}" class="text-white text-decoration-none">
                        Cart: {{ total_quantity }} items - EUR {{ "%.2f"|format(total_price) }}
                    </a>
                {% else %}
                    <span class="text-white">Your cart is empty!</span>
                {% endif %}
            </div>
            {% if current_user.is_authenticated %}
                <div class="me-3">
                    <a href="{{ url_for('chat.chats') }}" class="text-white text-decoration-none">
                        Messages
                        {% if unread_count > 0 %}
                        <span class="badge bg-danger">{{ unread_count }}</span>
                        {% endif %}
                    </a>
                </div>
                <span>Welcome, {{ current_user.username }}</span>
                <a href="{{ url_for('profile.user_profile') }}" class="btn btn-info ms-2">Profile</a>
                <a href="{{ url_for('product.add_product') }}" class="btn btn-success ms-2">Add Product</a>
                <a href="{{ url_for('auth.logout') }}" class="btn btn-danger ms-2">Logout</a>
            {% else %}
                <a href="{{ url_for('auth.login') }}" class="btn btn-light ms-2">Login</a>
                <a href="{{ url_for('auth.register') }}" class="btn btn-light ms-2">Register</a>
            {% endif %}
        </nav>
    </div>
</header>